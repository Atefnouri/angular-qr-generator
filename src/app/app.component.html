<mat-drawer-container class="example-container" autosize>

  <mat-drawer #drawer class="example-sidenav" mode="side">

    <h4>Settings</h4>

    <hr>
    <h5> Theming</h5>

    <mat-form-field appearance="fill">
      <mat-label>Light / Dark Mode</mat-label>
      <mat-select>
        <mat-option>
          Automatic (with os settings)
        </mat-option>
        <mat-option>
          Light Mode
        </mat-option>
        <mat-option>
          Dark Mode
        </mat-option>
      </mat-select>
    </mat-form-field>


    <mat-form-field appearance="fill">
      <mat-label>Theme color</mat-label>
      <mat-select>
        <mat-option>
          indego-pink
        </mat-option>
        <mat-option>
         lime green
        </mat-option>
        <mat-option>
          Blue
        </mat-option>
      </mat-select>
    </mat-form-field>

    <hr>
    <h5>Perfernces</h5>

    <mat-form-field appearance="fill">
      <mat-label>Download File Format</mat-label>
      <mat-select
      [(ngModel)]="qrCodeElmentType"
       (selectionChange)="changeTypeHandler($event.value)" >
        <mat-option value="img">
         PNG
        </mat-option>
        <mat-option value="svg">
          SVG
        </mat-option>
      </mat-select>
    </mat-form-field>

  <br>
  <button mat-flat-button (click)="drawer.toggle()" >cancel</button> &nbsp;&nbsp;
  <button mat-flat-button color="accent" (click)="saveSettingHandler()">save</button>


  </mat-drawer>



<mat-toolbar color="primary" id="toolbar-header">
  <a mat-button href="#" aria-label="Example icon-button with menu icon">
    <mat-icon>qr_code_2</mat-icon>
    angularx-qrcode
  </a>

  <span class="toolbar-header-spacer"></span>
  <a mat-button href="https://github.com/Atefnouri/angular-qr-generator" aria-label="Example icon-button with heart icon">
    <mat-icon>code</mat-icon>
    Github
  </a>


  <a mat-button href="#" (click)="drawer.toggle()"  aria-label="Example icon-button with heart icon">
    <mat-icon>settings</mat-icon>

  </a>


  <!-- <mat-icon *ngIf="darkMode" aria-hidden="false" aria-label="Example home icon" fontIcon="dark_mode"></mat-icon>
  <mat-icon *ngIf="!darkMode" aria-hidden="false" aria-label="Example home icon" fontIcon="light_mode"></mat-icon> -->


</mat-toolbar>


<div class="page-header">
  <h1>Angular qr code gen app</h1>
</div>


<div class="main darkMode">



  <form  #userForm="ngForm"  (ngSubmit)="sendForm()"  class="example-form">
    <mat-form-field class="example-full-width darkMode" appearance="fill">
      <mat-label>Type your text here</mat-label>
      <input
      name="usertext"
      #userText="ngModel"
      required
      (keyup)="parsText();"
      [(ngModel)]="qrForm.qrText"
      matInput placeholder="http://www.site.com" >
    </mat-form-field>
    <p *ngIf="userText.errors && userText.touched && userText.dirty " >
      <small> your test in not valid  </small>
    </p>

    <!--<button class="darkMode" type="submit" color="accent" [disabled]="userForm.invalid" mat-raised-button>Generate</button>-->

    </form>

    <br>

    <mat-chip-list aria-label="Fish selection">
      <mat-chip color="accent" selected
      [disabled]="!phoneChecker">
      <mat-icon>call</mat-icon> &nbsp;
      Phone
    </mat-chip>
      <mat-chip  color="accent" selected
       [disabled]="!linkChecker">
       <mat-icon>link</mat-icon> &nbsp;
       Link</mat-chip>

       <mat-chip  color="accent" selected
       [disabled]="!emailChecker">
       <mat-icon>email </mat-icon> &nbsp;
     email </mat-chip>

    </mat-chip-list>


    <mat-card class="example-card darkMode">

      <mat-card-subtitle class="darkMode">
        <mat-icon aria-hidden="false" aria-label="Example home icon" fontIcon="qr_code"></mat-icon>
        &nbsp;
        QR Code</mat-card-subtitle>
      <mat-card-title>scan the result</mat-card-title>
      <mat-card-content>

      <qrcode
      [qrdata]="TextToConvert"
      [width]="256"
      (qrCodeURL)="onChangeURL($event)"
      [errorCorrectionLevel]="'M'"
      [elementType]="qrCodeElmentType">
      </qrcode>

      </mat-card-content>
      <mat-card-actions>
        <button mat-button>SHARE</button>
        <a
        [href]="qrCodeDownloadLink"
         download="qrcode"
         >Download</a>
      </mat-card-actions>
      <mat-card-footer>
        <!-- <mat-progress-bar
        mode="indeterminate"
         [bufferValue]="0"
         [value] = "0"
         >
        </mat-progress-bar> -->
      </mat-card-footer>
    </mat-card>





</div>


</mat-drawer-container>



